'use strict';(function(a){var d=0;a(function(){z(),l('first'),n(),w(),q(),t(),woosc_vars.reload_count==='yes'&&b('count'),woosc_vars.open_bar==='yes'&&(b('bar'),h()),a('.woosc-settings-fields').sortable({handle:'.move',update:function(a,b){u()}}),woosc_vars.button_action==='show_message'&&a.notiny.addTheme('woosc',{notification_class:'notiny-theme-woosc'}),v()}),a(window).on('resize',function(){v()}),a(document).on('click touch','.woosc_table .woosq-btn, .woosc_table .woosq-link',function(a){a.preventDefault(),m()}),a(document).on('click touch','.woosc-sidebar .woosq-btn, .woosc-sidebar .woosq-link',function(a){a.preventDefault(),f()}),a(document).on('click touch','.woosc-table-settings',function(b){b.preventDefault(),a('.woosc-settings').toggleClass('open')}),a(document).on('click touch','.woosc-bar-print',function(b){b.preventDefault(),a.print('#woosc-area')}),a(document).on('change','#woosc-filter',function(a){a.preventDefault(),p()}),a(document).on('keydown',function(b){(b.ctrlKey==!0||b.metaKey==!0)&&b.which=='80'&&a('.woosc-area').hasClass('woosc-area-open-table')&&(b.preventDefault(),a.print('#woosc-area'))}),a(document).on('click touch','.woosc-bar-share',function(b){b.preventDefault(),a('.woosc-share').toggleClass('open'),a('.woosc-share-content').addClass('woosc-loading');var c={action:'woosc_share',nonce:woosc_vars.nonce};jQuery.post(woosc_vars.wc_ajax_url.toString().replace('%%endpoint%%','woosc_share'),c,function(b){a('.woosc-share-content').html(b).removeClass('woosc-loading')})}),a(document).on('click touch','#woosc_copy_url, #woosc_copy_btn',function(d){d.preventDefault();let b=a('#woosc_copy_url'),c=b.val();navigator.clipboard.writeText(c).then(function(){alert(woosc_vars.copied_text.replace('%s',c))},function(){alert('Failure to copy!')}),b.select()}),a(document).on('click touch','.woosc-bar-search',function(b){if(b.preventDefault(),a('.woosc-search').toggleClass('open'),a('.woosc-search-result').text()==='')return d!=null&&clearTimeout(d),d=setTimeout(r,300),!1}),a(document).on('click touch','.woosc-popup',function(b){a(b.target).closest('.woosc-popup-content').length===0&&a(this).toggleClass('open')}),a(document).on('keyup','#woosc_search_input',function(){if(a('#woosc_search_input').val()!=='')return d!=null&&clearTimeout(d),d=setTimeout(r,300),!1}),a(document).on('click touch','.woosc-item-add',function(c){c.preventDefault();var d=a(this).attr('data-id');a('.woosc-search').toggleClass('open'),x(d),b('table'),i()}),a(document).on('click touch','.woosc-popup-close',function(b){b.preventDefault(),a(this).closest('.woosc-popup').toggleClass('open')}),a(document).on('woovr_selected',function(e,d){var c,b;woosc_vars.variations==='yes'&&(c=d.attr('data-id'),b=d.attr('data-pid'),c>0?a('.woosc-btn-'+b).removeClass('woosc-btn-added woosc-added').attr('data-id',c):a('.woosc-btn-'+b).removeClass('woosc-btn-added woosc-added').attr('data-id',b))}),a(document).on('found_variation',function(c,d){if(woosc_vars.variations==='yes'){var b=a(c.target).attr('data-product_id');a('.woosc-btn-'+b).removeClass('woosc-btn-added woosc-added').attr('data-id',d.variation_id),a('.woosc-btn-'+b+':not(.woosc-btn-has-icon)').html(woosc_vars.button_text),a('.woosc-btn-has-icon.woosc-btn-'+b).find('.woosc-btn-icon').removeClass(woosc_vars.button_added_icon).addClass(woosc_vars.button_normal_icon),a('.woosc-btn-has-icon.woosc-btn-'+b).find('.woosc-btn-text').html(woosc_vars.button_text)}}),a(document).on('reset_data',function(c){if(woosc_vars.variations==='yes'){var b=a(c.target).attr('data-product_id');a('.woosc-btn-'+b).removeClass('woosc-btn-added woosc-added').attr('data-id',b),a('.woosc-btn-'+b+':not(.woosc-btn-has-icon)').html(woosc_vars.button_text),a('.woosc-btn-has-icon.woosc-btn-'+b).find('.woosc-btn-icon').removeClass(woosc_vars.button_added_icon).addClass(woosc_vars.button_normal_icon),a('.woosc-btn-has-icon.woosc-btn-'+b).find('.woosc-btn-text').html(woosc_vars.button_text)}}),a(document).on('click touch','.woosc-bar-remove',function(a){a.preventDefault();var c=confirm(woosc_vars.remove_all);c==!0&&(g('all'),b('table'))}),a(document).on('click touch','.woosc-btn',function(l){var c,d,f,j,k,e;l.preventDefault(),c=a(this),d=c.attr('data-id'),f=c.attr('data-pid'),j=c.attr('data-product_id'),k=c.attr('data-product_name'),e=c.attr('data-product_image'),typeof f!==typeof void 0&&f!==!1&&(d=f),typeof j!==typeof void 0&&j!==!1&&(d=j),c.addClass(''),c.hasClass('woosc-btn-added woosc-added')?woosc_vars.click_again==='yes'?(g(d),woosc_vars.button_action==='show_message'&&a.notiny({theme:'woosc',position:woosc_vars.message_position,image:e,text:woosc_vars.message_removed.replace('{name}','<strong>'+k+'</strong>')})):woosc_vars.button_action==='show_message'&&a.notiny({theme:'woosc',position:woosc_vars.message_position,image:e,text:woosc_vars.message_exists.replace('{name}','<strong>'+k+'</strong>')}):(c.addClass('woosc-btn-adding woosc-adding'),x(d),woosc_vars.button_action==='show_message'&&a.notiny({theme:'woosc',position:woosc_vars.message_position,image:e,text:woosc_vars.message_added.replace('{name}','<strong>'+k+'</strong>')})),woosc_vars.button_action==='show_bar'&&(b('bar'),h()),woosc_vars.button_action==='show_table'&&(b('table'),h(),i()),(woosc_vars.button_action==='show_message'||woosc_vars.button_action==='none')&&a('.woosc-bar').hasClass('woosc-bar-open')&&b('bar'),woosc_vars.button_action==='show_sidebar'&&(b('sidebar'),o())}),a(document).on('click touch','#woosc-area .woosc-bar-item-remove, #woosc-area .woosc-remove',function(c){c.preventDefault();var d=a(this).attr('data-id');a(this).parent().addClass('removing'),g(d),b('table'),n()}),a(document).on('click touch','.woosc-page .woosc-remove',function(b){b.preventDefault();var c=a(this).attr('data-id');g(c),location.reload()}),a(document).on('click touch','.woosc-page .woosc-remove-all',function(a){a.preventDefault();var b=confirm(woosc_vars.remove_all);b==!0&&g('all'),location.reload()}),a(document).on('click touch','.woosc-sidebar-item-remove',function(b){b.preventDefault();var c=a(this).closest('.woosc-sidebar-item').attr('data-id');g(c),a(this).closest('.woosc-sidebar-item').slideUp(),n()}),a(document).on('click touch','.woosc-bar-btn',function(c){c.preventDefault(),a('.woosc-table-items').hasClass('woosc-table-items-loaded')||b('table'),B()}),a(document).on('click touch',function(b){(woosc_vars.click_outside==='yes'||woosc_vars.click_outside==='yes_empty'&&parseInt(a('.woosc-bar').attr('data-count'))===0)&&a(b.target).closest('.wpc_compare_count').length===0&&a(b.target).closest('.woosc-popup').length===0&&a(b.target).closest('.woosc-btn').length===0&&a(b.target).closest('.woosc-table').length===0&&a(b.target).closest('.woosc-bar').length===0&&a(b.target).closest('.woosc-menu-item a').length===0&&a(b.target).closest('.woosc-link a').length===0&&a(b.target).closest('.woosc-menu a').length===0&&a(b.target).closest('.woosc-sidebar-btn').length===0&&(woosc_vars.open_button===''||a(b.target).closest(woosc_vars.open_button).length===0)&&m()}),a(document).on('click touch','.woosc-area-open-sidebar',function(b){a(b.target).closest('.woosc-sidebar').length===0&&f()}),a(document).on('click touch','.woosc-sidebar-close, .woosc-sidebar-continue',function(a){f()}),a(document).on('click touch','.woosc-sidebar-btn',function(a){a.preventDefault(),f(),A()}),a(document).on('click touch','#woosc-table-close',function(a){a.preventDefault(),k()}),a(document).on('change','.woosc-settings-field, .woosc-settings-tool',function(){u()}),woosc_vars.open_button!==''&&a(document).on('click touch',woosc_vars.open_button,function(c){c.preventDefault(),woosc_vars.open_button_action==='open_page'?woosc_vars.page_url!==''&&woosc_vars.page_url!=='#'&&(window.location.href=woosc_vars.page_url):(woosc_vars.open_button_action==='open_popup'&&(a('.woosc-table-items').hasClass('woosc-table-items-loaded')||b('table'),h(),i()),woosc_vars.open_button_action==='open_sidebar'&&(a('.woosc-sidebar-items').hasClass('woosc-sidebar-items-loaded')||b('sidebar'),o()))}),a(document).on('click touch','.woosc-menu-item a, .woosc-menu a, .woosc-link a',function(c){woosc_vars.menu_action==='open_popup'&&(c.preventDefault(),a('.woosc-table-items').hasClass('woosc-table-items-loaded')||b('table'),h(),i()),woosc_vars.menu_action==='open_sidebar'&&(c.preventDefault(),a('.woosc-sidebar-items').hasClass('woosc-sidebar-items-loaded')||b('sidebar'),o())});function r(){a('.woosc-search-result').html('').addClass('woosc-loading'),d=null;var b={action:'woosc_search',keyword:a('#woosc_search_input').val(),nonce:woosc_vars.nonce};a.post(woosc_vars.wc_ajax_url.toString().replace('%%endpoint%%','woosc_search'),b,function(b){a('.woosc-search-result').html(b).removeClass('woosc-loading')})}function e(b,c,d){var a=new Date,e;a.setTime(a.getTime()+d*24*60*60*1e3),e='expires='+a.toUTCString(),document.cookie=b+'='+c+'; '+e+'; path=/'}function c(e){for(var c=e+'=',d=document.cookie.split(';'),b=0,a;b<d.length;b++){for(a=d[b];a.charAt(0)==' ';)a=a.substring(1);if(a.indexOf(c)==0)return decodeURIComponent(a.substring(c.length,a.length))}return''}function C(){var a=j();return c(a)!=''?c(a):''}function y(){var d=j(),c=[],f;a('.woosc-bar-item').each(function(){var b=a(this).attr('data-id');b!==''&&c.push(b)}),f=c.join(),e(d,f,7),b('table')}function u(){var c=[],d=[],f='woosc_fields_'+woosc_vars.hash,g='woosc_settings_'+woosc_vars.hash;woosc_vars.user_id!==''&&(f+='_'+woosc_vars.user_id,g+='_'+woosc_vars.user_id),a('.woosc-settings-field').each(function(){var b=a(this).val();a(this).prop('checked')?(c.push(b),a('.woosc_table .tr-'+b).removeClass('tr-hide')):a('.woosc_table .tr-'+b).addClass('tr-hide')}),a('.woosc-settings-tool').each(function(){var b=a(this).val();a(this).prop('checked')&&d.push(b)}),e(f,c.join(','),7),e(g,d.join(','),7),b('table')}function x(b){var i=!1,h=woosc_vars.limit_notice,g=j(),f,d,k;c(g)!==''?(d=c(g).split(','),d.length<woosc_vars.limit?(d=a.grep(d,function(a){return a!=b}),woosc_vars.adding==='append'?d.push(b):d.unshift(b),k=d.join(),e(g,k,7)):(i=!0,h=h.replace('{limit}',woosc_vars.limit)),f=d.length):(e(g,b,7),f=1),l(f),a(document.body).trigger('woosc_added',[f]),i?(a('.woosc-btn[data-id="'+b+'"]').removeClass('woosc-btn-adding woosc-adding'),alert(h)):(a('.woosc-btn[data-id="'+b+'"]').removeClass('woosc-btn-adding woosc-adding').addClass('woosc-btn-added woosc-added'),a('.woosc-btn[data-id="'+b+'"]:not(.woosc-btn-has-icon)').html(woosc_vars.button_text_added),a('.woosc-btn-has-icon[data-id="'+b+'"]').find('.woosc-btn-icon').removeClass(woosc_vars.button_normal_icon).addClass(woosc_vars.button_added_icon),a('.woosc-btn-has-icon[data-id="'+b+'"]').find('.woosc-btn-text').html(woosc_vars.button_text_added))}function g(b){var f=0,d=j(),g,h;b!=='all'?(c(d)!=''&&(g=c(d).split(','),g=a.grep(g,function(a){return a!=b}),h=g.join(),e(d,h,7),f=g.length),a('.woosc-btn[data-id="'+b+'"]').removeClass('woosc-btn-added woosc-added'),a('.woosc-btn[data-id="'+b+'"]:not(.woosc-btn-has-icon)').html(woosc_vars.button_text),a('.woosc-btn-has-icon[data-id="'+b+'"]').find('.woosc-btn-icon').removeClass(woosc_vars.button_added_icon).addClass(woosc_vars.button_normal_icon),a('.woosc-btn-has-icon[data-id="'+b+'"]').find('.woosc-btn-text').html(woosc_vars.button_text)):(c(d)!=''&&(e(d,'',7),f=0),a('.woosc-btn').removeClass('woosc-btn-added woosc-added'),a('.woosc-btn:not(.woosc-btn-has-icon)').html(woosc_vars.button_text),a('.woosc-btn-has-icon').find('.woosc-btn-icon').removeClass(woosc_vars.button_added_icon).addClass(woosc_vars.button_normal_icon),a('.woosc-btn-has-icon').find('.woosc-btn-text').html(woosc_vars.button_text)),l(f),a(document.body).trigger('woosc_removed',[f])}function n(){var b=j(),d;c(b)!=''&&(d=c(b).split(','),a('.woosc-btn').removeClass('woosc-btn-added woosc-added'),a('.woosc-btn:not(.woosc-btn-has-icon)').html(woosc_vars.button_text),a('.woosc-btn.woosc-btn-has-icon').find('.woosc-btn-icon').removeClass(woosc_vars.button_added_icon).addClass(woosc_vars.button_normal_icon),a('.woosc-btn.woosc-btn-has-icon').find('.woosc-btn-text').html(woosc_vars.button_text),d.forEach(function(b){a('.woosc-btn-'+b).addClass('woosc-btn-added woosc-added'),a('.woosc-btn-'+b+':not(.woosc-btn-has-icon)').html(woosc_vars.button_text_added),a('.woosc-btn-has-icon.woosc-btn-'+b).find('.woosc-btn-icon').removeClass(woosc_vars.button_normal_icon).addClass(woosc_vars.button_added_icon),a('.woosc-btn-has-icon.woosc-btn-'+b).find('.woosc-btn-text').html(woosc_vars.button_text_added)}))}function b(b){var c={action:'woosc_load',get_data:b,nonce:woosc_vars.nonce};b==='table'&&a('.woosc-table-inner').addClass('woosc-loading'),b==='sidebar'&&a('.woosc-sidebar').addClass('woosc-loading'),a.post(woosc_vars.wc_ajax_url.toString().replace('%%endpoint%%','woosc_load'),c,function(c){if((b==='bar'||b==='table')&&(a('.woosc-bar-items').html(c.bar).addClass('woosc-bar-items-loaded'),a(document.body).trigger('woosc_bar_loaded')),b==='table'&&(a('.woosc-table-items').html(c.table).addClass('woosc-table-items-loaded'),a(window).width()>=768?woosc_vars.freeze_column==='yes'&&woosc_vars.freeze_row==='yes'?a('#woosc_table').tableHeadFixer({head:!0,left:1}):woosc_vars.freeze_column==='yes'?a('#woosc_table').tableHeadFixer({head:!1,left:1}):woosc_vars.freeze_row==='yes'&&a('#woosc_table').tableHeadFixer({head:!0}):woosc_vars.freeze_row==='yes'&&a('#woosc_table').tableHeadFixer({head:!0}),woosc_vars.scrollbar==='yes'&&a('.woosc-table-items').perfectScrollbar({theme:'wpc'}),a('.woosc-table-inner').removeClass('woosc-loading'),w(),q(),t(),a(document.body).trigger('woosc_table_loaded')),b==='sidebar'&&(a('.woosc-sidebar-items').html(c.sidebar).addClass('woosc-sidebar-items-loaded'),a('.woosc-sidebar').removeClass('woosc-loading'),woosc_vars.scrollbar==='yes'&&a('.woosc-sidebar-items').perfectScrollbar({theme:'wpc'}),a(document.body).trigger('woosc_sidebar_loaded')),(b==='bar'||b==='table'||b==='sidebar')&&(a('.woosc-bar-filter').html(c.filter),p(),a(document.body).trigger('woosc_filter_loaded')),b==='count')if(c.count!=null){var d=parseInt(c.count);l(d),a(document.body).trigger('woosc_count_loaded',[d])}})}function v(){let b=a(window).width(),c=JSON.parse(woosc_vars.quick_table_fixed);b>=1024&&a('.woosc-quick-table .woosc_table').tableHeadFixer({head:!1,left:c.pc}),b>=768&&b<1024&&a('.woosc-quick-table .woosc_table').tableHeadFixer({head:!1,left:c.ta}),b<768&&a('.woosc-quick-table .woosc_table').tableHeadFixer({head:!1,left:c.mo})}function h(){f(),a('#woosc-area').addClass('woosc-area-open-bar'),a('.woosc-bar').addClass('woosc-bar-open'),a('.woosc-bar-items').sortable({handle:'img',update:function(a,b){y()}}),a(document.body).trigger('woosc_bar_open')}function s(){a('#woosc-area').removeClass('woosc-area-open-bar'),a('.woosc-bar').removeClass('woosc-bar-open'),a(document.body).trigger('woosc_bar_close')}function o(){s(),k(),a('#woosc-area').addClass('woosc-area-open-sidebar'),a('.woosc-sidebar').addClass('woosc-sidebar-open'),a(document.body).trigger('woosc_sidebar_open')}function f(){a('#woosc-area').removeClass('woosc-area-open-sidebar'),a('.woosc-sidebar').removeClass('woosc-sidebar-open'),a(document.body).trigger('woosc_sidebar_close')}function i(){f(),a('#woosc-area').addClass('woosc-area-open-table'),a('.woosc-table').addClass('woosc-table-open'),a('.woosc-bar-btn').addClass('woosc-bar-btn-open'),woosc_vars.bar_bubble==='yes'&&a('.woosc-bar').removeClass('woosc-bar-bubble'),a(document.body).trigger('woosc_table_open')}function k(){a('#woosc-area').removeClass('woosc-area-open woosc-area-open-table'),a('.woosc-table').removeClass('woosc-table-open'),a('.woosc-bar-btn').removeClass('woosc-bar-btn-open'),woosc_vars.bar_bubble==='yes'&&a('.woosc-bar').addClass('woosc-bar-bubble'),a(document.body).trigger('woosc_table_close')}function B(){a('.woosc-table').hasClass('woosc-table-open')?k():i()}function D(){a('#woosc-area').addClass('woosc-area-open'),b('table'),h(),i(),a(document.body).trigger('woosc_open')}function m(){a('#woosc-area').removeClass('woosc-area-open'),s(),k(),a(document.body).trigger('woosc_close')}function A(){a('#woosc-area').hasClass('woosc-area-open')?m():D(),a(document.body).trigger('woosc_toggle')}function z(){var b=a('#woosc-area').attr('data-bg-color'),c=a('#woosc-area').attr('data-btn-color');a('.woosc-table').css('background-color',b),a('.woosc-bar').css('background-color',b),a('.woosc-bar-btn').css('background-color',c),a('.woosc-sidebar-btn').css('background-color',c)}function p(){if(woosc_vars.bar_filter!=='no'&&a('#woosc-filter').length){var b=a('#woosc-filter').val().toLowerCase();b!=='_all_'?(a('.woosc_table .col').addClass('col-hide').hide(),a('.woosc_table .col-'+b).removeClass('col-hide').show(),a('.woosc-bar-item').addClass('woosc-bar-item-hidden'),a('.woosc-bar-item-'+b).removeClass('woosc-bar-item-hidden')):(a('.woosc_table .col').removeClass('col-hide').show(),a('.woosc-bar-item').removeClass('woosc-bar-item-hidden')),woosc_vars.hide_empty_row==='yes'&&a('.woosc_table > tbody > tr:not(.tr-print)').each(function(){var b=a(this),d=0,c=!0;b.removeClass('tr-empty').show(),b.children('.col:not(.col-hide)').each(function(){if(a(this).html().length>0)return c=!1,!1}),c&&b.addClass('tr-empty').hide()})}}function l(b){var c,d;b==='first'&&(c=C(),c!=''?(d=c.split(','),b=d.length):b=0),a('.woosc-menu-item').each(function(){a(this).hasClass('menu-item-type-woosc')?a(this).find('.woosc-menu-item-inner').attr('data-count',b):a(this).addClass('menu-item-type-woosc').find('a').wrapInner('<span class="woosc-menu-item-inner" data-count="'+b+'"></span>')}),a('#woosc-area').attr('data-count',b),a('.woosc-bar').attr('data-count',b),a('.woosc-sidebar-count').html(' ('+b+')'),a('.woosc-link .woosc-link-inner').attr('data-count',b),a('.woosc-bar-items').removeClass('woosc-bar-items-loaded'),a('.woosc-sidebar-items').removeClass('woosc-sidebar-items-loaded'),a('.woosc-table-items').removeClass('woosc-table-items-loaded'),a(document.body).trigger('woosc_change_count',[b])}function w(){woosc_vars.hide_empty_row==='yes'&&a('.woosc_table > tbody > tr').each(function(){var b=a(this),c=0,d=!0;b.children('td').each(function(){if(c>0&&a(this).html().length>0)return d=!1,!1;c++}),d&&b.addClass('tr-empty').remove()})}function t(){a('#woosc_highlight_differences').prop('checked')?a('.woosc_table > tbody > tr').each(function(){var b=a(this),c=0,e=a(this).children('td').eq(1).html(),d=!1;b.children('td:not(.td-placeholder)').each(function(){if(c>1&&a(this).html()!==e)return d=!0,!1;c++}),d&&b.addClass('tr-highlight')}):a('.woosc_table tr').removeClass('tr-highlight')}function q(){a('#woosc_hide_similarities').prop('checked')?a('.woosc_table > tbody > tr').each(function(){var b=a(this),c=0,e=a(this).children('td').eq(1).html(),d=!0;b.children('td:not(.td-placeholder)').each(function(){if(c>1&&a(this).html()!==e)return d=!1,!1;c++}),d&&b.addClass('tr-similar')}):a('.woosc_table tr').removeClass('tr-similar')}function j(){return woosc_vars.user_id!==''?'woosc_products_'+woosc_vars.user_id:'woosc_products'}})(jQuery)